# MyISAM vs Innodb


|比较|MyISAM|Innodb|
| --- | --- | :-: |
| 类型   |非事务型数据库，所有的写入操作都需要手动回滚|事务型数据库，如果写入操作未完成，可以自动回滚|
| 锁    |表锁|行锁|
| 外键   |不支持|支持|
| 原子性  |不支持|支持|
| 性能   |读操作更快（不支持事务）|写操作更快（支持事务）|
| 可靠性  |不提供数据完整性，硬件故障和取消操作可能会导致数据损坏|使用事务日志记录操作，在发生故障时，可使用这些日志快速恢复数据|
| 缓存   |密钥缓冲区仅用于索引|支持混存数据和索引的大型缓冲区池|
| 全文索引 |支持|不支持|
| 哈希索引 |不支持|支持|
| 构成   |.frm文件存储表定义，.MYD存储数据，.MYI存储索引|基于磁盘的资源是InnoDB表空间数据文件和它的日志文件，InnoDB 表的大小只受限于操作系统文件的大小，一般为 2GB。数据和索引是集中存储的(.ibd)。|
|存储|按插入顺序|按主键大小|




1. 类型
   + **MyISAM**是非事务型数据库，所有的写入（**I**）操作都需要手动回滚。
   + **Innodb**是事务型数据库，如果写入（**I**）操作未完成，可以自动回滚。
2. 锁
   + **MyISAM**使用表锁，只允许单个会话对表进行修改。如果另一个用户尝试对表进行修改，会收到mysql返回的表已锁定的消息。（这种级别的锁适用于只读类型的数据库，因为它不需要很多内存资源）
   + **Innodb**使用表的行级锁，它允许仅在修改的过程中锁定，从而支持同一行上的多个会话。（行锁的缺点是消耗大量内存资源）
3. 外键

+ 外键是一个表中将数据链接到另一个表的列。它防止用户添加破坏两个表之间链接的记录。
  + **MyISAM**不支持外键
  + **Innodb**支持外键

4. 原子性
   + **MyISAM**不支持原子性
   + **Innodb**支持原子性
4. 性能
   + **MyISAM**不支持事务属性，读（**O**）速度更快，与**Innodb**相比大数据量性能较低。
   + **Innodb**支持事物属性，即回滚和提交，具有更高的写入（**I**）速度，与**MyISAM**相比，对大数据量大性能更好。
6. 可靠性
   + **MyISAM**不提供数据完整性，硬件故障和取消操作可能会导致数据损坏。
   + **Innodb**使用事务日志记录每个操作，从而提供可靠性。因此在发生故障时，可使用这些日志快速恢复数据。
7. 缓存和索引
   + **MyISAM**密钥缓冲区仅用于索引。**MiISAM**支持全文索引。
   + **Innodb**支持混存数据和索引的大型缓冲区池。但不支持全文索引。
8. 构成
   + **MyISAM** .frm文件存储表定义，.MYD存储数据，.MYI存储索引。
   + **Innodb**基于磁盘的资源是InnoDB表空间数据文件和它的日志文件，InnoDB 表的大小只受限于操作系统文件的大小，一般为 2GB。